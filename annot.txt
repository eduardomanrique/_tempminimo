entender pra que serve hiddenattributes e tempatributes
findDeepestChild em buildcomponents nao vai funcionar sempre. 
    Tem que fazer um findDeepestChild passando o nome de todos os componentes e encontrar o mais profundo de todos
todas as properties de um component na verdade sao um script. Nao tem mais o tipo script
    inclusive vai ter um tipo html, que retorna um dom
parser
    remove id for every element?
    iterator data-hxiter?
    eliminar o chord
    template fn tem que ser elementos novos
    mutation 
        href novos - capturar o link e disparar o url change event

html creator
    recursivo?
        se for recursivo, fazer com promise

ideias:
    retornar uma estrutura (json) do html 
    ao construir os elementos no browser, salvar cada elemento numa property da estrutura
    alterar a estrutura dinamicamente quando se inserir mais nos (via ifs e for)
        manter o que é a estrutura original
            o que deve acontecer se um jquery alterar o elemento? altera-se a estrutura?
        ===ver o que acontece hoje quando ha uma mutation...
    assim é possivel mudar a maneira que os updates sao feito. Pode-se usar o json em vcs do browser dom
        ao criar novos if e for registrar num global

    text com script serao textnodes guardados a parte com o seu escopo
    attributes com script sera guardados a parte com o seu escopo
    template scripts serao 2 textnodes (inicio e fim) vazios para ser o ponto de insercao. Serao guardados a parte
    _outxdynattr_ removidos

    no parser o {webctx} precisa ja ser alterado
=======

appcache
    usar fallback para templates - testar
    para cada item que tem template e foi referenciado no cache, tem um item de fallback apontando para seu template

html creator
    recursivo?
        se for recursivo, fazer com promise


html
    sempre (com ou sem template) sera renderizado um html vazio.
        se for um com template
            chama via rest (cached) o json do template
            incluir os elementos dentro do head
            incluir os elementos dentro do body
        chama via rest o json da paginda
        renderiza no ponto de insercao

steps
    url no browser ou no evento the change url onde o template da pagina é diferente da pagina atual ou se a pagina tem htmlelement
        carrega template se tiver
            o template tera o script para carregar o json e o script da pagina no target element do template
                com o uso do fallback, o template sera repetido. Ele pegara da url o caminho para fazer o load do json de pagina correto
            no oncreate de href: alterar os links para disparar o change url event
    url event e o template é o mesmo (ou ambas nao usam template?) - 
        limpar o target element
        recarregar o json e o script da pagina no target element do template


test com inner iterator

get htmx
    find js pair
    set as valid resource
    parse html
        get all bound modals data-xbind
        get all bound variables data-xmodal
        get all scripts global -> global
        get all imported -> jsonly
    compile components parse html -> coloca no json as infos dos components
    instrument controller
        html struct json
        promise for imports e modals e binds das variaveis
        expor public functions
        declare undeclared bound variables

get js only
    set as valid resource
    instrument controller
        promise for imports
        expor public functions

get global
    set as valid resource
    instrument global controller
        promise for imports
        expor public functions